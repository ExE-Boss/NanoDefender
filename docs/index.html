<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="jspenguin2017" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://jspenguin.com/;" />
    <title>Nano Defender (a.k.a. uBlock Protector)</title>
    <link rel="stylesheet" href="https://jspenguin.com/Static/Paper.css" />
    <link rel="stylesheet" href="index.css" />
    <script src="index.js" charset="utf-8" defer></script>
</head>
<body>
    <div class="container">
        <h1>Nano Defender (a.k.a. uBlock Protector)</h1>

        <p>An anti-adblock defuser for Nano Adblocker and uBlock Origin</p>

        <div id="banner-ads">
            <p class="red">Your adblocker is not enabled!</p>
        </div>
        <div id="extension-test">
            <p class="red">Nano Defender is not enabled!</p>
        </div>
        <!--
        <div id="list-test">
            <p class="red">Nano Defender Integration filter list is not enabled!</p>
        </div>
        <div id="browser-test">
            <p class="red">You are using an outdated browser!</p>
        </div>
        -->
    </div>

    <div class="container">
        <h2>Installation instructions</h2>

        <p>Nano Defender can only protect <strong>either</strong> <a href="https://github.com/NanoAdblocker/NanoCore#nano-adblocker-core" target="_blank">Nano Adblocker</a> or uBlock Origin, and will prioritize Nano Adblocker.</p>
        <br />

        <p><strong>TLDR: </strong>Every browser has its own problems, some solutions in Nano Defender only work in one browser and there is nothing I can do about that.</p>
        <p>Firefox Add-ons store <a href="https://github.com/gorhill/uBlock/commit/126110c9a0a0630cd556f5cb215422296a961029" target="_blank">prohibits remote script snippets</a>, so uBlock Origin on Firefox may not always work properly with Nano Defender. It should, however, work properly <i>most</i> of the time. Nano Adblocker has a fast release cycle and has its extra resources hard packaged in the extension so it does not suffer from the problem to the same extent, but since it has a fast release cycle, it tend to be more buggy, but fixes land fast too, it goes both ways. I guess everything has its own problems.</p>
        <p>The onbeforescriptexecute event polyfill still does not work on Firefox and it looks like it is not getting fixed anytime soon, so some rules in Nano Defender will only work on Chromium but not Firefox. Firefox is the first browser to get that event and is also the first one to lose it, how sad.</p>
        <p>The biggest problem on Firefox right now is Content Security Policy, but thankfully that is getting fixed soon. I recommend you to block all CSP reports until Firefox got the correct implementation of CSP.</p>
        <p>On the flip side, thanks of some extra APIs that Firefox has, some rules only work on Firefox but not Chromium, I guess unless you are willing to jump between the two browsers, you cannot have the best of both worlds.</p>
        <br />

        <!-- Spaces in href should be escaped, but uBlock Origin does not unescape them, since Chromium and Chrome allow spaces in href like below, I will just leave this as is -->
        <p>Step 1. Install <a href="https://github.com/NanoAdblocker/NanoDefender#nano-defender" target="_blank">Nano Defender</a>.</p>
        <p><strong>That is it if you are using Nano Adblocker! If you are using uBlock Origin, then you have a few more steps to follow...</strong></p>
        <br />

        <p>Step 2. Enable <a href="abp://subscribe/?location=https://easylist-downloads.adblockplus.org/antiadblockfilters.txt&title=Adblock Warning Removal List">Adblock Warning Removal List</a>.</p>
        <p>Step 3. Install <a href="abp://subscribe/?location=https://raw.githubusercontent.com/jspenguin2017/uBlockProtector/master/uBlockProtectorList.txt&title=Nano Defender Integration">Nano Defender Integration</a> filter list.</p>
        <p>Step 4. Go to uBlock Origin dashboard, select "Settings" tab, check "I am an advanced user", click the gears that shows up, replace "unset" after "userResourcesLocation" by "https://raw.githubusercontent.com/NanoAdblocker/NanoFilters/master/NanoFilters/NanoResources.txt" (without quotes).</p>
        <p>Note: If you have another User Resources in use, then you would need to either switch to Nano Adblocker or manually merge resources. It takes an eternity to get any resources into uAssets, I have tried.</p>
        <p>Step 5. Install <a href="abp://subscribe/?location=https://raw.githubusercontent.com/NanoAdblocker/NanoFilters/master/NanoFilters/NanoBase.txt&title=Nano filters">Nano filters</a>.</p>
        <p>Step 6. Install <a href="abp://subscribe/?location=https://raw.githubusercontent.com/NanoAdblocker/NanoFilters/master/NanoFilters/NanoWhitelist.txt&title=Nano filters - Whitelist">Nano filters - Whitelist</a>.</p>
        <p>Step 7. (Optional) Install <a href="abp://subscribe/?location=https://raw.githubusercontent.com/NanoAdblocker/NanoFilters/master/NanoFilters/NanoTimer.txt&title=Nano filters – Timer bypassing (sometimes works)">Nano filters – Timer bypassing</a>.</p>
        <p>Note: Nano Defender used to have some timer bypassing logic built in, but now, that will be handled by Nano Adblocker instead, you can install this functionality to uBlock Origin manually if you want.</p>
        <p>If you are using uBlock Origin, then you <strong>must</strong> have a functional Internet connection when you start your browser or touch anything in the dashboard.</p>
        <br />

        <p>Click on the extension icon if you need more information.</p>
    </div>

    <div class="container">
        <h2>Source code and license</h2>
        <p><a href="https://github.com/jspenguin2017/uBlockProtector" target="_blank">View on GitHub</a></p>
    </div>
</body>
</html>
